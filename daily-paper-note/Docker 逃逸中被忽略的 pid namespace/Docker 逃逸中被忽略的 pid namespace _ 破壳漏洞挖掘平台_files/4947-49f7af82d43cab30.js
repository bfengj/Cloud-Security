"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4947],{5391:function(e,t,n){n.d(t,{Z:function(){return m}});var o=n(8450),r=n(618),i=n(3205),a=n(6873),c=n(8762),l=n(3494);var s=n(4457),d=n(367);function u({reply:e,onReplyUpdate:t}){const{t:n}=(0,d.$I)(),r=(0,d.aQ)(),l=(0,d.r8)(),u=(0,i.useCallback)(((n,o)=>t((0,c.uJ)(e,n),o)),[e,t]),p=e.deletedAt||e.isMinimized;return(0,o.BX)("div",{className:"gsc-reply",children:[(0,o.tZ)("div",{className:"gsc-tl-line"}),(0,o.BX)("div",{className:"flex "+(p?"items-center":""),children:[(0,o.tZ)("div",{className:"gsc-reply-author-avatar",children:(0,o.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:e.author.url,className:"flex items-center",children:(0,o.tZ)("img",{className:"rounded-full",src:e.author.avatarUrl,width:"30",height:"30",alt:`@${e.author.login}`,loading:"lazy"})})}),(0,o.BX)("div",{className:"w-full min-w-0 ml-2",children:[p?null:(0,o.BX)("div",{className:"gsc-reply-header",children:[(0,o.BX)("div",{className:"gsc-reply-author",children:[(0,o.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:e.author.url,className:"flex min-w-0 items-center",children:(0,o.tZ)("span",{className:"link-primary overflow-hidden text-ellipsis font-semibold",children:e.author.login})}),(0,o.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:e.url,className:"link-secondary overflow-hidden text-ellipsis",children:(0,o.tZ)("time",{className:"whitespace-nowrap",title:r(e.createdAt),dateTime:e.createdAt,children:l(e.createdAt)})}),"NONE"!==e.authorAssociation?(0,o.tZ)("div",{className:"hidden text-xs leading-[18px] sm:inline-flex",children:(0,o.tZ)("span",{className:"color-box-border-info font-medium capitalize rounded-xl border px-[7px]",children:n(e.authorAssociation)})}):null]}),e.lastEditedAt?(0,o.tZ)("button",{className:"color-text-secondary gsc-reply-edited",title:n("lastEditedAt",{date:e.lastEditedAt}),children:n("edited")}):null]}),(0,o.tZ)("div",{dir:"auto",className:"markdown gsc-reply-content "+(p?" not-shown":""),onClick:a.Cn,dangerouslySetInnerHTML:p?void 0:{__html:(0,a.jd)(e.bodyHTML)},children:p?(0,o.tZ)("em",{className:"color-text-secondary",children:e.deletedAt?n("thisCommentWasDeleted"):n("thisCommentWasHidden")}):null}),p?null:(0,o.tZ)("div",{className:"gsc-reply-footer",children:(0,o.tZ)("div",{className:"gsc-reply-reactions",children:(0,o.tZ)(s.Z,{reactionGroups:e.reactions,subjectId:e.id,onReact:u,popoverPosition:"top"})})})]})]})]})}var p=n(5917);function m({children:e,comment:t,replyBox:n,onCommentUpdate:m,onReplyUpdate:h}){const{t:v,dir:g}=(0,d.$I)(),f=(0,d.aQ)(),b=(0,d.r8)(),{0:y,1:N}=(0,i.useState)(0),w=t.replies.slice(-5-50*y),C=t.replyCount-w.length,Z=w.length<t.replies.length,x=!Z&&C>0,{token:k}=(0,i.useContext)(p.Vo),A=(0,i.useCallback)(((e,n)=>m((0,c.uJ)(t,e),n)),[t,m]),R=(0,i.useCallback)((()=>{const e=t.viewerHasUpvoted?t.upvoteCount-1:t.upvoteCount+1,n=async function(e,t,n){return fetch(l.Lp,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({query:(o=n?"Remove":"Add",`\n  mutation($upvoteInput: ${o}UpvoteInput!) {\n    toggleUpvote: ${o.toLowerCase()}Upvote(input: $upvoteInput) {\n      subject {\n        upvoteCount\n      }\n    }\n  }`),variables:e})}).then((e=>e.json()));var o}({upvoteInput:{subjectId:t.id}},k,t.viewerHasUpvoted);m({...t,upvoteCount:e,viewerHasUpvoted:!t.viewerHasUpvoted},n)}),[t,m,k]),T=!!t.deletedAt||t.isMinimized;return(0,o.tZ)("div",{className:"gsc-comment",children:(0,o.BX)("div",{className:"color-bg-primary w-full min-w-0 rounded-md border "+(t.viewerDidAuthor?"color-box-border-info":"color-border-primary"),children:[t.isMinimized?null:(0,o.BX)("div",{className:"gsc-comment-header",children:[(0,o.BX)("div",{className:"gsc-comment-author",children:[(0,o.BX)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:t.author.url,className:"gsc-comment-author-avatar",children:[(0,o.tZ)("img",{className:"mr-2 rounded-full",src:t.author.avatarUrl,width:"30",height:"30",alt:`@${t.author.login}`,loading:"lazy"}),(0,o.tZ)("span",{className:"link-primary overflow-hidden text-ellipsis font-semibold",children:t.author.login})]}),(0,o.tZ)("a",{rel:"nofollow noopener noreferrer",target:"_blank",href:t.url,className:"link-secondary overflow-hidden text-ellipsis",children:(0,o.tZ)("time",{className:"whitespace-nowrap",title:f(t.createdAt),dateTime:t.createdAt,children:b(t.createdAt)})}),"NONE"!==t.authorAssociation?(0,o.tZ)("div",{className:"hidden text-xs leading-[18px] sm:inline-flex",children:(0,o.tZ)("span",{className:"color-box-border-info font-medium capitalize ml-1 rounded-xl border px-[7px]",children:v(t.authorAssociation)})}):null]}),t.lastEditedAt?(0,o.tZ)("button",{className:"color-text-secondary gsc-comment-edited",title:v("lastEditedAt",{date:f(t.lastEditedAt)}),children:v("edited")}):null]}),(0,o.tZ)("div",{dir:e?g:"auto",className:"markdown gsc-comment-content"+(t.isMinimized?" minimized color-bg-tertiary border-color-primary":""),onClick:a.Cn,dangerouslySetInnerHTML:T?void 0:{__html:(0,a.jd)(t.bodyHTML)},children:T?(0,o.tZ)("em",{className:"color-text-secondary",children:t.deletedAt?v("thisCommentWasDeleted"):v("thisCommentWasMinimized")}):null}),e,!t.isMinimized&&m?(0,o.BX)("div",{className:"gsc-comment-footer",children:[(0,o.BX)("div",{className:"gsc-comment-reactions",children:[(0,o.BX)("button",{type:"button",className:"gsc-upvote-button gsc-social-reaction-summary-item "+(t.viewerHasUpvoted?"has-reacted":""),onClick:R,disabled:!0,"aria-label":v(k?"upvote":"youMustBeSignedInToUpvote"),title:k?v("upvotes",{count:t.upvoteCount}):v("youMustBeSignedInToUpvote"),children:[(0,o.tZ)(r.Hf3,{className:"gsc-direct-reaction-button-emoji"}),(0,o.tZ)("span",{className:"gsc-social-reaction-summary-item-count",title:v("upvotes",{count:t.upvoteCount}),children:t.upvoteCount})]}),T?null:(0,o.tZ)(s.Z,{reactionGroups:t.reactions,subjectId:t.id,onReact:A,popoverPosition:"top"})]}),(0,o.tZ)("div",{className:"gsc-comment-replies-count",children:(0,o.tZ)("span",{className:"color-text-tertiary text-xs",children:v("replies",{count:t.replyCount,plus:""})})})]}):null,t.replies.length>0?(0,o.BX)("div",{className:"color-bg-inset color-border-primary gsc-replies "+(!n||T?"rounded-b-md":""),children:[Z||x?(0,o.BX)("div",{className:"flex h-8 items-center mb-2 pl-4",children:[(0,o.tZ)("div",{className:"flex w-[29px] shrink-0 content-center mr-[9px]",children:(0,o.tZ)(r.Ui8,{className:"w-full rotate-90 fill-[var(--color-border-muted)]"})}),Z?(0,o.tZ)("button",{className:"color-text-link hover:underline",onClick:()=>N(y+1),children:v("showPreviousReplies",{count:C})}):null,x?(0,o.tZ)("a",{href:t.url,className:"color-text-link hover:underline",rel:"nofollow noopener noreferrer",target:"_blank",children:v("seePreviousRepliesOnGitHub",{count:C})}):null]}):null,h?w.map((e=>(0,o.tZ)(u,{reply:e,onReplyUpdate:h},e.id))):null]}):null,!t.isMinimized&&n?n:null]})})}},4457:function(e,t,n){n.d(t,{Z:function(){return p}});var o=n(8450),r=n(618),i=n(3205),a=n(5917),c=n(5521),l=n(8762),s=n(3494);var d=n(367);function u({isLoggedIn:e,isLoading:t,current:n,loginUrl:r}){const{t:i}=(0,d.$I)();return t?(0,o.tZ)("p",{className:"m-2",children:i("pleaseWait")}):e?(0,o.tZ)("p",{className:"overflow-hidden text-ellipsis whitespace-nowrap m-2",children:i(n||"pickYourReaction")}):(0,o.tZ)("p",{className:"m-2",children:(0,o.tZ)(d.cC,{i18nKey:"common:signInToAddYourReaction",components:{a:(0,o.tZ)("a",{href:r,className:"color-text-link",target:"_top"})}})})}function p({reactionGroups:e,subjectId:t,onReact:n,variant:p="all",popoverPosition:m="bottom",onDiscussionCreateRequest:h}){const{t:v}=(0,d.$I)(),{0:g,1:f}=(0,i.useState)(null),{0:b,1:y}=(0,i.useState)(!1),[N,w,C]=(0,c.IC)(!1),{token:Z,origin:x,getLoginUrl:k}=(0,i.useContext)(a.Vo),A=k(x),R=(0,i.useCallback)((async o=>{if(b||!t&&!h)return;y(!t);const r=t||await h();n(o,async function(e,t,n){return fetch(s.Lp,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({query:(o=n?"remove":"add",`\n  mutation($content: ReactionContent!, $subjectId: ID!) {\n    toggleReaction: ${o}Reaction(input: {content: $content, subjectId: $subjectId}) {\n      reaction {\n        content\n        id\n      }\n    }\n  }`),variables:e})}).then((e=>e.json()));var o}({content:o,subjectId:r},Z,!!e?.[o]?.viewerHasReacted).then((()=>y(!1))))}),[b,h,n,e,t,Z]),T="popoverOnly"===p?[]:Object.entries(e||{}).filter((([,{count:e}])=>e>0)).map((([e,{count:t,viewerHasReacted:n}])=>(0,o.BX)("button",{className:`gsc-direct-reaction-button gsc-social-reaction-summary-item ${n?"has-reacted":""}${Z?"":" cursor-not-allowed"}`,disabled:!Z,onClick:()=>R(e),"aria-label":Z?v("addTheReaction",{reaction:v(e)}):v("youMustBeSignedInToAddReactions"),title:Z?v("peopleReactedWith",{count:t,reaction:v(e),emoji:v("emoji")}):v("youMustBeSignedInToAddReactions"),children:[(0,o.tZ)("span",{className:"gsc-direct-reaction-button-emoji",children:l.Jg[e]}),(0,o.tZ)("span",{className:"gsc-social-reaction-summary-item-count",title:v("peopleReactedWith",{count:t,reaction:v(e),emoji:v("emoji")}),children:t})]},e)));return(0,o.BX)(o.HY,{children:["groupsOnly"!==p?(0,o.BX)("details",{ref:N,className:"gsc-reactions-menu",onToggle:e=>{e.target instanceof HTMLDetailsElement&&C(e.target.open)},open:w,children:[(0,o.tZ)("summary",{"aria-label":v("addReactions"),className:"link-secondary gsc-reactions-button gsc-social-reaction-summary-item "+("popoverOnly"===p?"popover-only":""),children:(0,o.tZ)(r.W5D,{size:16})}),(0,o.BX)("div",{className:`color-border-primary color-text-secondary color-bg-overlay gsc-reactions-popover ${m} ${w?" open":""} ${"popoverOnly"===p?"right":"left"}`,children:[(0,o.tZ)(u,{isLoading:b,isLoggedIn:!!Z,loginUrl:A,current:g}),(0,o.tZ)("div",{className:"color-border-primary my-2 border-t"}),(0,o.tZ)("div",{className:"m-2",children:Object.entries(l.Jg).map((([t,n])=>{const r=e?.[t]?.viewerHasReacted;return(0,o.tZ)("button",{"aria-label":v(r?"removeTheReaction":"addTheReaction",{reaction:v(t)}),type:"button",className:`gsc-emoji-button${r?" has-reacted color-bg-info color-border-tertiary":""}${Z?"":" no-token"}`,onClick:()=>{R(t),C(!1)},onMouseEnter:()=>f(t),onFocus:()=>f(t),onMouseLeave:()=>f(null),onBlur:()=>f(null),disabled:!Z,children:(0,o.tZ)("span",{className:"gsc-emoji",children:n})},t)}))})]})]}):null,"popoverOnly"!==p?(0,o.tZ)("div",{className:"gsc-direct-reaction-buttons",children:T}):null]})}},6873:function(e,t,n){n.d(t,{Cn:function(){return d},KF:function(){return c},aT:function(){return s},jd:function(){return u},qw:function(){return l}});var o=n(4761);const r='\n<div class="zeroclipboard-container position-absolute right-0 top-0">\n  <button aria-label="Copy" class="ClipboardButton btn js-clipboard-copy m-2 p-0 tooltipped-no-delay" data-copy-feedback="Copied!" tabindex="0" role="button">\n    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy js-clipboard-copy-icon m-2">\n      <path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path>\n    </svg>\n    <svg aria-hidden="true" viewBox="0 0 16 16" version="1.1" height="16" width="16" class="octicon octicon-check js-clipboard-check-icon color-text-success d-none m-2">\n      <path fill-rule="evenodd" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path>\n    </svg>\n  </button>\n</div>',i={avatarUrl:"https://avatars.githubusercontent.com/u/10137?s=64&v=4",login:"ghost",url:"https://github.com/ghost"};function a(e){return e.reduce(((e,t)=>(e[t.content]={count:t.users.totalCount,viewerHasReacted:t.viewerHasReacted},e)),{})}function c(e){const{reactionGroups:t,replyTo:{id:n},author:o,...r}=e,c=a(t);return{...r,author:o||i,reactions:c,replyToId:n}}function l(e){const{replies:t,reactionGroups:n,author:o,...r}=e,{totalCount:l,nodes:s}=t,d=a(n),u=s.map(c);return{...r,author:o||i,replyCount:l,reactions:d,replies:u}}function s(e){const t=e.target,n=t.closest(".snippet-clipboard-content, .highlight"),r=t.closest("button.ClipboardButton");if(n&&r&&e.currentTarget.contains(r)){e.preventDefault();const t=n.dataset.snippetClipboardCopyContent||n.querySelector("pre").textContent||"";(0,o.ES)(t).then((()=>{const e=r.querySelector("svg.js-clipboard-copy-icon"),t=r.querySelector("svg.js-clipboard-check-icon");e.classList.add("d-none"),t.classList.remove("d-none"),setTimeout((()=>{e.classList.remove("d-none"),t.classList.add("d-none")}),2e3)}))}}function d(e){!function(e){const t=e.target,n=t.closest(".email-hidden-toggle a");n&&e.currentTarget.contains(n)&&(e.preventDefault(),t.closest("div").querySelector(".email-hidden-reply").classList.toggle("expanded"))}(e),s(e)}function u(e){if("undefined"===typeof document)return e.replace(/<a (href="[^"]*")/g,'<a $1 rel="noopener noreferrer nofollow" target="_top"');const t=document.createElement("template");t.innerHTML=e;const n=t.content;return n.querySelectorAll(":not(.email-hidden-toggle) > a").forEach((e=>{const t=window.location.href;if(e.href.startsWith(`${t}#`)){let n;try{n=new URL(document.referrer)}catch{return}return n.hash="",void(e.href=`${n.href}${e.href.substring(t.length)}`)}e.rel="noopener noreferrer nofollow",e.target="_top"})),n.querySelectorAll("a.commit-tease-sha").forEach((e=>e.href="https://github.com"+e.pathname)),n.querySelectorAll(".snippet-clipboard-content, .highlight:not(.js-file-line-container)").forEach((e=>{e.classList.add("position-relative"),e.classList.remove("overflow-auto");const t=document.createElement("template");t.innerHTML=r.trim(),e.appendChild(t.content.firstChild)})),t.innerHTML}},6753:function(e,t,n){function o(e,t){window.parent.postMessage({giscus:e},t)}function r(e,t){const n=document.querySelector("iframe.giscus-frame");n&&n.contentWindow.postMessage({giscus:e},t)}n.d(t,{$:function(){return r},A:function(){return o}})},8762:function(e,t,n){n.d(t,{Jg:function(){return o},aT:function(){return i},uJ:function(){return a}});const o={THUMBS_UP:"\ud83d\udc4d",THUMBS_DOWN:"\ud83d\udc4e",LAUGH:"\ud83d\ude04",HOORAY:"\ud83c\udf89",CONFUSED:"\ud83d\ude15",HEART:"\u2764\ufe0f",ROCKET:"\ud83d\ude80",EYES:"\ud83d\udc40"};function r(e,t){const n=e[t].viewerHasReacted?-1:1;return[{...e,[t]:{count:e[t].count+n,viewerHasReacted:!e[t].viewerHasReacted}},n]}function i(e,t){const[n,o]=r(e.discussion.reactions,t);return{...e,discussion:{...e.discussion,reactionCount:e.discussion.reactionCount+o,reactions:n}}}function a(e,t){const[n]=r(e.reactions,t);return{...e,reactions:n}}},3494:function(e,t,n){n.d(t,{Db:function(){return i},Lp:function(){return r}});const o="https://api.github.com",r=`${o}/graphql`,i=`${o}/markdown`}}]);